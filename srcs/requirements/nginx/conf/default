
# ***** Here is SSL configuration*****  

server {
	    listen              443 ssl;

    	server_name         abait-ta.42.fr;
    	
		ssl_certificate     /etc/nginx/ssl/inception.crt;
    	ssl_certificate_key /etc/nginx/ssl/inception.key;
    	
		ssl_protocols       TLSv1.3;

    	ssl_ciphers         HIGH:!aNULL:!MD5;
	
		root /var/www/html;

		#try successively the files 
		index index.php index.html index.htm;
	
	    location / {
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                try_files $uri $uri/ =404;
        } 

		location ~ \.php$ {
			
			   fastcgi_index index.php;
			   
			   include fastcgi_params;
			   
			#    fastcgi_pass  wordpress:9000;
        	   
			   fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; 
			   
			   #it for PHP-FPM to get the valide path to serve files 
			   fastcgi_param PATH_INFO $fastcgi_path_info;
			   
			   fastcgi_param QUERY_STRING    $query_string;
        }
	}
